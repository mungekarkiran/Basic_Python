import zlib
import base64
import re
# from PIL import Image
# from pyzbar.pyzbar import decode

# qr_data = "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"

# # Assuming there's only one QR code in the image
# qr_data = data.decode('utf-8')

# # Decode the base64 data
# compressed_data = base64.b64decode(qr_data)

# # Decompress the data
# original_data = zlib.decompress(compressed_data).decode('utf-8')

# print('Decoded text from QR code:')
# print(original_data)


# Your decoded data from the QR code (base64-encoded compressed string)
qr_data = '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'

try:
    # Decode the base64 data
    compressed_data = base64.b64decode(qr_data)

    # Decompress the data
    original_data = zlib.decompress(compressed_data).decode('utf-8')

    print('Decoded text from the compressed data:')
    print(original_data)

    # Remove non-printable characters using a regular expression
    clean_data = re.sub(r'[^\x20-\x7E]', '', original_data)

except Exception as e:
    print(f'Error during decoding: {e}')

# Open the file in write mode ('w') or create it if it doesn't exist
with open('output.txt', 'w') as file:
    # Write the data to the file
    file.write(original_data)

# print('Data has been written to output.txt')